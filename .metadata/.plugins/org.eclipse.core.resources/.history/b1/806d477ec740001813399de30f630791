package com.baodanwang.service.impl;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;

import com.baodanwang.mapper.StoresMapper;
import com.baodanwang.pojo.Stores;
import com.baodanwang.pojo.StoresExample;
import com.baodanwang.pojo.Users;
import com.baodanwang.service.storeService;

public class StoreServiceImpl implements storeService {

	@Autowired
	private StoresMapper storesMapper = null;
	@Override
	public List<Stores> getStoreList(String sidx, String sord) throws Exception {
		StoresExample example = new StoresExample();
		example.setOrderByClause(sidx+" "+sord);
		List<Stores> stores = storesMapper.selectByExample(example);
		return stores;
	}

	@Override
	public void deleteStore(String storeId) throws Exception {
		storesMapper.deleteByPrimaryKey(storeId);
	}

	@Override
	public List<Stores> searchStore(String searchField, String searchString, String sidx, String sord)
			throws Exception {
		StoresExample example = new StoresExample();
		StoresExample.Criteria criteria = example.createCriteria();
		example.setOrderByClause(sidx+" "+sord);
		switch (searchField) {
		case "store_id":
			criteria.andStoreIdLike("%"+searchString+"%");
			break;
		case "store_openid":
			criteria.andStoreOpenidLike("%"+searchString+"%");
			break;
		case "store_name":
			criteria.andUserNicknameLike("%"+searchString+"%");
			break;
		case "store_address":
			criteria.andUserWechatidLike("%"+searchString+"%");
			break;
		case "store_tel":
			criteria.andUserTelLike("%"+searchString+"%");
			break;
		case "store_weChatId":
			criteria.andUserAddressLike("%"+searchString+"%");
			break;
		case "store_realNameStatus":
			criteria.andAddTimeLike("%"+searchString+"%");
			break;
		case "store_realName":
			criteria.andAddTimeLike("%"+searchString+"%");
			break;
		case "store_realNameType":
			criteria.andAddTimeLike("%"+searchString+"%");
			break;
		case "store_addTime":
			criteria.andAddTimeLike("%"+searchString+"%");
			break;
		default:
			break;
		}
		List<Stores> stores = storesMapper.selectByExample(example);
		return stores;
	}

}
